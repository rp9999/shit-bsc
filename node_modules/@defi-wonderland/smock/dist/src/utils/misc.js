"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.flatten = exports.humanizeTimes = void 0;
const ethers_1 = require("ethers");
const serdes_1 = require("./serdes");
const timeWords = [null, 'once', 'twice', 'thrice'];
function humanizeTimes(count) {
    return timeWords[count] || `${count || 0} times`;
}
exports.humanizeTimes = humanizeTimes;
function flatten(obj, prefix = '', result = {}) {
    return Object.entries(obj).reduce((acc, [key, val]) => {
        const subKey = `${prefix}${key}`;
        if (ethers_1.BigNumber.isBigNumber(val) || typeof val === 'string' || typeof val === 'number' || typeof val === 'boolean') {
            result[subKey] = val;
        }
        else if (Array.isArray(val)) {
            val.forEach((valItem, index) => flatten(valItem, !prefix ? `${index}` : `${prefix}${index}.`, acc));
        }
        else if (serdes_1.isPojo(val)) {
            flatten(val, `${subKey}.`, acc);
        }
        else {
            throw new Error('Cannot flatten unsupported object type');
        }
        return acc;
    }, result);
}
exports.flatten = flatten;
//# sourceMappingURL=misc.js.map